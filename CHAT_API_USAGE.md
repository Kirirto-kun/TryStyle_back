# üí¨ ClosetMind Chat API - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
4. [üì° API Endpoints](#api-endpoints)
5. [ü§ñ –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-–∞–≥–µ–Ω—Ç–æ–≤)
6. [üìä –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö)
7. [üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ-–∑–∞–¥–∞–Ω–∏–µ-–¥–ª—è-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
8. [üîß –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞](#–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞)
9. [‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
10. [üöÄ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

---

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

**ClosetMind Chat** - —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π AI-–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–æ–π –∏ –≥–∞—Ä–¥–µ—Ä–æ–±–æ–º. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –±–∞–∑–µ **PydanticAI** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üí¨ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
- ü§ñ 3 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö AI-–∞–≥–µ–Ω—Ç–∞
- üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- üëó –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞—Ä—è–¥–æ–≤
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- üîê –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- üì± –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Chat API      ‚îÇ    ‚îÇ   AI Agents     ‚îÇ
‚îÇ   (React/Vue)   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (FastAPI)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (PydanticAI)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ   PostgreSQL    ‚îÇ
                       ‚îÇ   Database      ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:

**–¢–∞–±–ª–∏—Ü–∞ `chats`:**
- `id` (Primary Key)
- `title` - –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
- `user_id` (Foreign Key) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `created_at` - –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–¢–∞–±–ª–∏—Ü–∞ `messages`:**
- `id` (Primary Key)
- `content` - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `role` - –†–æ–ª—å (`user` –∏–ª–∏ `assistant`)
- `chat_id` (Foreign Key) - ID —á–∞—Ç–∞
- `created_at` - –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:**

```http
Authorization: Bearer <your_jwt_token>
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è/–≤—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `/api/v1/auth/login`
2. –ü–æ–ª—É—á–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —á–∞—Ç—É

---

## üì° API Endpoints

### Base URL: `/api/v1/chats`


### 2. üìã –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —á–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```http
GET /api/v1/chats/
```

**Response (200):**
```json
[
  {
    "id": 1,
    "title": "–ü–æ–∏—Å–∫ –æ–¥–µ–∂–¥—ã",
    "user_id": 123,
    "created_at": "2024-01-15T10:30:00Z",
    "updated_at": "2024-01-15T11:45:00Z"
  },
  {
    "id": 2,
    "title": "–°—Ç–∏–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã",
    "user_id": 123,
    "created_at": "2024-01-14T15:20:00Z",
    "updated_at": "2024-01-14T16:10:00Z"
  }
]
```

### 3. üí¨ –ü–æ–ª—É—á–∏—Ç—å —á–∞—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

```http
GET /api/v1/chats/{chat_id}
```

**Response (200):**
```json
{
  "id": 1,
  "title": "–ü–æ–∏—Å–∫ –æ–¥–µ–∂–¥—ã",
  "user_id": 123,
  "created_at": "2024-01-15T10:30:00Z",
  "updated_at": "2024-01-15T11:45:00Z",
  "messages": [
    {
      "id": 1,
      "content": "–ù–∞–π–¥–∏ –º–Ω–µ —á–µ—Ä–Ω—É—é —Ñ—É—Ç–±–æ–ª–∫—É",
      "role": "user",
      "chat_id": 1,
      "created_at": "2024-01-15T10:31:00Z"
    },
    {
      "id": 2,
      "content": "{\"result\": {\"products\": [...]}}",
      "role": "assistant",
      "chat_id": 1,
      "created_at": "2024-01-15T10:31:30Z"
    }
  ]
}
```

### 4. üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç

```http
POST /api/v1/chats/{chat_id}/messages
```

**Request Body:**
```json
{
  "message": "–ù–∞–π–¥–∏ –º–Ω–µ –∫—Ä–∞—Å–∏–≤–æ–µ –ø–ª–∞—Ç—å–µ –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è"
}
```

**Response (200):**
```json
{
  "id": 3,
  "content": "{\"result\": {\"products\": [...]}, \"agent_type\": \"search\", \"processing_time_ms\": 1245.6}",
  "role": "assistant",
  "chat_id": 1,
  "created_at": "2024-01-15T10:32:00Z"
}
```

### 5. üì® –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞

```http
GET /api/v1/chats/{chat_id}/messages
```

**Response (200):**
```json
[
  {
    "id": 1,
    "content": "–ß—Ç–æ –º–Ω–µ –Ω–∞–¥–µ—Ç—å —Å–µ–≥–æ–¥–Ω—è?",
    "role": "user",
    "chat_id": 1,
    "created_at": "2024-01-15T10:31:00Z"
  },
  {
    "id": 2,
    "content": "{\"result\": {\"outfit_description\": \"–°—Ç–∏–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è —Ä–∞–±–æ—Ç—ã\"}}",
    "role": "assistant",
    "chat_id": 1,
    "created_at": "2024-01-15T10:31:30Z"
  }
]
```

### 6. üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —á–∞—Ç

```http
DELETE /api/v1/chats/{chat_id}
```

**Response (200):**
```json
{
  "message": "Chat deleted successfully"
}
```

### 7. üöÄ –°–æ–∑–¥–∞—Ç—å —á–∞—Ç —Å –ø–µ—Ä–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

```http
POST /api/v1/chats/init
```

**Request Body:**
```json
{
  "message": "–ü—Ä–∏–≤–µ—Ç! –ü–æ–º–æ–≥–∏ –º–Ω–µ —Å –º–æ–¥–æ–π"
}
```

**Response (201):**
```json
{
  "id": 4,
  "title": "–ü–æ–º–æ—â—å —Å –º–æ–¥–æ–π", // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
  "user_id": 123,
  "created_at": "2024-01-15T10:35:00Z",
  "updated_at": "2024-01-15T10:35:30Z",
  "messages": [
    {
      "id": 7,
      "content": "–ü—Ä–∏–≤–µ—Ç! –ü–æ–º–æ–≥–∏ –º–Ω–µ —Å –º–æ–¥–æ–π",
      "role": "user",
      "chat_id": 4,
      "created_at": "2024-01-15T10:35:00Z"
    },
    {
      "id": 8,
      "content": "{\"result\": {\"response\": \"–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å –º–æ–¥–æ–π!\"}}",
      "role": "assistant", 
      "chat_id": 4,
      "created_at": "2024-01-15T10:35:30Z"
    }
  ]
}
```

---

## ü§ñ –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥–µ–Ω—Ç–æ–≤:

```
User Message ‚Üí Coordinator Agent ‚Üí Specialized Agent ‚Üí Structured Response
                      ‚Üì
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ Determines  ‚îÇ
                ‚îÇ Intent      ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº             ‚ñº             ‚ñº
  Search Agent   Outfit Agent   General Agent
     (–ü–æ–∏—Å–∫)      (–ù–∞—Ä—è–¥—ã)      (–û–±—â–µ–Ω–∏–µ)
```

### 1. üîç Search Agent (–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** "–Ω–∞–π–¥–∏", "–∫—É–ø–∏—Ç—å", "–≥–¥–µ –∫—É–ø–∏—Ç—å", "–ø–æ–∏—Å–∫", "—Ç–æ–≤–∞—Ä", "–º–∞–≥–∞–∑–∏–Ω", "—Å—Ç–æ–∏–º–æ—Å—Ç—å"

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- –ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω
- –ü–æ–¥–±–æ—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±—é–¥–∂–µ—Ç—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "result": {
    "products": [
      {
        "name": "–ß–µ—Ä–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ Uniqlo",
        "price": "1299 ‚ÇΩ",
        "description": "–ë–∞–∑–æ–≤–∞—è —Ö–ª–æ–ø–∫–æ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞, –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏",
        "link": "https://www.uniqlo.com/ru/products/..."
      }
    ]
  },
  "agent_type": "search",
  "processing_time_ms": 856.4
}
```

### 2. üëó Outfit Agent (–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞—Ä—è–¥–æ–≤)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** "—á—Ç–æ –Ω–∞–¥–µ—Ç—å", "–æ–±—Ä–∞–∑", "–Ω–∞—Ä—è–¥", "—Å—Ç–∏–ª—å", "–≥–∞—Ä–¥–µ—Ä–æ–±", "–æ–¥–µ–∂–¥–∞", "—Å–æ—á–µ—Ç–∞–Ω–∏–µ"

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–¥–±–æ—Ä –æ–±—Ä–∞–∑–æ–≤ –∏–∑ –≥–∞—Ä–¥–µ—Ä–æ–±–∞
- –ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ–±—ã—Ç–∏—è–º
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "result": {
    "outfit_description": "–°—Ç–∏–ª—å–Ω—ã–π –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –≥–æ—Ä–æ–¥—É",
    "items": [
      {
        "name": "–ë–µ–ª–∞—è —Ä—É–±–∞—à–∫–∞",
        "category": "–†—É–±–∞—à–∫–∏",
        "image_url": "https://example.com/shirt.jpg"
      },
      {
        "name": "–°–∏–Ω–∏–µ –¥–∂–∏–Ω—Å—ã", 
        "category": "–ë—Ä—é–∫–∏",
        "image_url": "https://example.com/jeans.jpg"
      }
    ],
    "reasoning": "–ë–µ–ª—ã–π –∏ —Å–∏–Ω–∏–π - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—Å–µ–≥–¥–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç–∏–ª—å–Ω–æ"
  },
  "agent_type": "outfit",
  "processing_time_ms": 1123.7
}
```

### 3. üí≠ General Agent (–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:** –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–§—É–Ω–∫—Ü–∏–∏:**
- –û–±—â–µ–Ω–∏–µ –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã
- –°–æ–≤–µ—Ç—ã –ø–æ –º–æ–¥–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–Ω–¥–∞—Ö
- –ü–æ–º–æ—â—å –ø–æ —É—Ö–æ–¥—É –∑–∞ –æ–¥–µ–∂–¥–æ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "result": {
    "response": "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ —Å—Ñ–µ—Ä–µ –º–æ–¥—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ —Ç–µ–∫—É—â–∏–µ —Ç—Ä–µ–Ω–¥—ã.",
    "response_type": "informational",
    "confidence": 0.95
  },
  "agent_type": "general",
  "processing_time_ms": 432.1
}
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

```typescript
// –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã
export interface Chat {
  id: number;
  title: string;
  user_id: number;
  created_at: string;
  updated_at: string;
}

export interface Message {
  id: number;
  content: string;
  role: 'user' | 'assistant';
  chat_id: number;
  created_at: string;
}

export interface ChatWithMessages extends Chat {
  messages: Message[];
}

// –û—Ç–≤–µ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤
export interface Product {
  name: string;
  price: string;
  description: string;
  link: string;
}

export interface ProductSearchResult {
  products: Product[];
}

export interface OutfitItem {
  name: string;
  category: string;
  image_url: string;
}

export interface OutfitRecommendation {
  outfit_description: string;
  items: OutfitItem[];
  reasoning: string;
}

export interface GeneralResponse {
  response: string;
  response_type?: string;
  confidence?: number;
}

export interface AgentResponse {
  result: ProductSearchResult | OutfitRecommendation | GeneralResponse;
  agent_type: 'search' | 'outfit' | 'general';
  processing_time_ms: number;
}
```

---

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **SPA** (Single Page Application) –Ω–∞ React/Vue/Angular
- **State Management** (Redux/Vuex/Pinia) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–∞—Ç–æ–≤
- **Responsive Design** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **PWA** –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 2. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
App
‚îú‚îÄ‚îÄ ChatSidebar (—Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤)
‚îú‚îÄ‚îÄ ChatWindow (–æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ —á–∞—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ ChatHeader (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–∞—Ç–∞)
‚îÇ   ‚îú‚îÄ‚îÄ MessagesList (—Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserMessage (—Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AssistantMessage (–æ—Ç–≤–µ—Ç AI)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ProductGrid (—Å–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ OutfitDisplay (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ GeneralResponse (—Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç)
‚îÇ   ‚îî‚îÄ‚îÄ MessageInput (–ø–æ–ª–µ –≤–≤–æ–¥–∞)
‚îî‚îÄ‚îÄ AuthGuard (–∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤)
```

#### 3. –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã

```typescript
// –†–æ—É—Ç–∏–Ω–≥
const routes = [
  { path: '/', component: Home },           // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  { path: '/login', component: Login },     // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  { path: '/chats', component: ChatApp },   // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–∞—Ç–∞
  { path: '/chats/:id', component: ChatApp }, // –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç
  { path: '/profile', component: Profile }  // –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
];
```

#### 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

##### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –õ–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- [ ] –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

##### üí¨ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
- [ ] –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤
- [ ] –ü–æ–∏—Å–∫ –ø–æ —á–∞—Ç–∞–º

##### üì® –†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
- [ ] –°—Ç–∞—Ç—É—Å—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è/–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ)
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∞–Ω–∏—è

##### ü§ñ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∞–≥–µ–Ω—Ç–∞
- [ ] –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
  - **–¢–æ–≤–∞—Ä—ã** - –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏, —Ü–µ–Ω–∞–º–∏, —Å—Å—ã–ª–∫–∞–º–∏
  - **–ù–∞—Ä—è–¥—ã** - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
  - **–û–±—â–∏–µ –æ—Ç–≤–µ—Ç—ã** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

#### 5. UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

##### üé® –î–∏–∑–∞–π–Ω
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Material Design** –∏–ª–∏ **–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å**
- **–¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞** (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å)
- **–ê–Ω–∏–º–∞—Ü–∏–∏** –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

##### üîÑ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **Real-time** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (WebSocket –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Drag & Drop** –¥–ª—è —Ñ–∞–π–ª–æ–≤ (–±—É–¥—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- **Keyboard shortcuts** (Ctrl+Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏)
- **Infinite scroll** –¥–ª—è –¥–ª–∏–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏

##### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Lazy loading** —Å–æ–æ–±—â–µ–Ω–∏–π
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö
- **Optimistic updates** –¥–ª—è –ª—É—á—à–µ–≥–æ UX

---

## üîß –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### API Client

```typescript
// api/chatApi.ts
class ChatAPI {
  private baseURL = 'http://localhost:8000/api/v1';
  private token: string | null = null;

  setToken(token: string) {
    this.token = token;
  }

  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      ...options,
      headers: {
        'Content-Type': 'application/json',
        ...(this.token && { Authorization: `Bearer ${this.token}` }),
        ...options.headers,
      },
    });

    if (!response.ok) {
      throw new Error(`HTTP ${response.status}: ${response.statusText}`);
    }

    return response.json();
  }

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞—Ç–∞–º–∏
  async createChat(title: string): Promise<Chat> {
    return this.request('/chats/', {
      method: 'POST',
      body: JSON.stringify({ title }),
    });
  }

  async getChats(): Promise<Chat[]> {
    return this.request('/chats/');
  }

  async getChatWithMessages(chatId: number): Promise<ChatWithMessages> {
    return this.request(`/chats/${chatId}`);
  }

  async sendMessage(chatId: number, message: string): Promise<Message> {
    return this.request(`/chats/${chatId}/messages`, {
      method: 'POST',
      body: JSON.stringify({ message }),
    });
  }

  async initChatWithMessage(message: string): Promise<ChatWithMessages> {
    return this.request('/chats/init', {
      method: 'POST',
      body: JSON.stringify({ message }),
    });
  }

  async deleteChat(chatId: number): Promise<{ message: string }> {
    return this.request(`/chats/${chatId}`, {
      method: 'DELETE',
    });
  }
}

export const chatAPI = new ChatAPI();
```

### React Hooks

```typescript
// hooks/useChat.ts
import { useState, useEffect } from 'react';
import { chatAPI } from '../api/chatApi';

export const useChat = (chatId: number | null) => {
  const [chat, setChat] = useState<ChatWithMessages | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    if (chatId) {
      loadChat(chatId);
    }
  }, [chatId]);

  const loadChat = async (id: number) => {
    setLoading(true);
    setError(null);
    try {
      const chatData = await chatAPI.getChatWithMessages(id);
      setChat(chatData);
    } catch (err) {
      setError(err instanceof Error ? err.message : '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞—Ç–∞');
    } finally {
      setLoading(false);
    }
  };

  const sendMessage = async (message: string) => {
    if (!chatId) return;
    
    try {
      // Optimistic update
      const tempMessage: Message = {
        id: Date.now(),
        content: message,
        role: 'user',
        chat_id: chatId,
        created_at: new Date().toISOString(),
      };

      setChat(prev => prev ? {
        ...prev,
        messages: [...prev.messages, tempMessage]
      } : null);

      const response = await chatAPI.sendMessage(chatId, message);
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
      setChat(prev => prev ? {
        ...prev,
        messages: [
          ...prev.messages.slice(0, -1), // —É–±–∏—Ä–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
          { ...tempMessage, id: response.id - 1 }, // –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
          response // –æ—Ç–≤–µ—Ç AI
        ]
      } : null);

    } catch (err) {
      setError(err instanceof Error ? err.message : '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è');
      // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º optimistic update
      setChat(prev => prev ? {
        ...prev,
        messages: prev.messages.slice(0, -1)
      } : null);
    }
  };

  return { chat, loading, error, sendMessage, reloadChat: () => chatId && loadChat(chatId) };
};
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

```tsx
// components/MessageDisplay.tsx
import React from 'react';
import { Message } from '../types/chat';
import { parseAgentResponse } from '../utils/messageParser';
import { ProductGrid } from './ProductGrid';
import { OutfitDisplay } from './OutfitDisplay';

interface MessageDisplayProps {
  message: Message;
}

export const MessageDisplay: React.FC<MessageDisplayProps> = ({ message }) => {
  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  if (message.role === 'user') {
    return (
      <div className="message user-message">
        <div className="message-bubble user-bubble">
          {message.content}
        </div>
        <div className="message-time">
          {new Date(message.created_at).toLocaleTimeString()}
        </div>
      </div>
    );
  }

  // –û—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
  const agentResponse = parseAgentResponse(message.content);
  
  return (
    <div className="message assistant-message">
      {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∞–≥–µ–Ω—Ç–∞ */}
      {agentResponse.agent_type === 'search' && (
        <ProductGrid products={(agentResponse.result as ProductSearchResult).products} />
      )}
      
      {agentResponse.agent_type === 'outfit' && (
        <OutfitDisplay outfit={agentResponse.result as OutfitRecommendation} />
      )}
      
      {agentResponse.agent_type === 'general' && (
        <div className="general-response">
          <div className="response-text">
            {(agentResponse.result as GeneralResponse).response}
          </div>
        </div>
      )}
      
      {/* –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
      <div className="message-meta">
        <span className="agent-type">{agentResponse.agent_type}</span>
        <span className="processing-time">
          {agentResponse.processing_time_ms.toFixed(0)}ms
        </span>
        <span className="message-time">
          {new Date(message.created_at).toLocaleTimeString()}
        </span>
      </div>
    </div>
  );
};
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫ API

```typescript
interface APIError {
  detail: string;
  status_code: number;
}

// –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
const errorMessages = {
  400: '–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å',
  401: '–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è', 
  403: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω',
  404: '–ß–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω',
  429: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤',
  500: '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'
};
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```tsx
// components/ErrorBoundary.tsx
import React, { Component, ReactNode } from 'react';

interface Props {
  children: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('Chat error:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="error-fallback">
          <h2>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ üòû</h2>
          <p>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤ —á–∞—Ç–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
          <button onClick={() => window.location.reload()}>
            –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
          </button>
        </div>
      );
    }

    return this.props.children;
  }
}
```

---

## üöÄ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ localStorage** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ httpOnly cookies
- **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- **–†–µ–∞–ª–∏–∑—É–π—Ç–µ rate limiting** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–π—Ç–µ HTML** –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React.memo** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏** —Å–æ–æ–±—â–µ–Ω–∏–π
- **–î–µ–±–∞—É–Ω—Å–∏—Ä—É–π—Ç–µ –ø–æ–∏—Å–∫** –ø–æ —á–∞—Ç–∞–º
- **–ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** API –∑–∞–ø—Ä–æ—Å–æ–≤

### üé® UX
- **–ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏** –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏** –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–†–µ–∞–ª–∏–∑—É–π—Ç–µ drag & drop** –¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π
- **–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ keyboard navigation**

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// –ü—Ä–∏–º–µ—Ä unit —Ç–µ—Å—Ç–∞
import { render, screen, fireEvent } from '@testing-library/react';
import { MessageDisplay } from '../MessageDisplay';

test('–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', () => {
  const message = {
    id: 1,
    content: '–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
    role: 'user' as const,
    chat_id: 1,
    created_at: '2024-01-15T10:30:00Z'
  };

  render(<MessageDisplay message={message} />);
  
  expect(screen.getByText('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ')).toBeInTheDocument();
  expect(screen.getByText(/10:30/)).toBeInTheDocument();
});
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [FRONTEND_API_DOCUMENTATION.md](./FRONTEND_API_DOCUMENTATION.md)
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞**: [FRONTEND_EXAMPLES.md](./FRONTEND_EXAMPLES.md)
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤**: [AGENT_SETUP.md](./AGENT_SETUP.md)
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: [QUICK_START.md](./QUICK_START.md)

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000)
4. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API** –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:**
- üìß Email: dev@closetmind.ai
- üí¨ Slack: #closetmind-support
- üìñ Wiki: [github.com/closetmind/docs](https://github.com/closetmind/docs)

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 15 —è–Ω–≤–∞—Ä—è 2024*
